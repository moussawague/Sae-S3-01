<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Accueil - Mon Site</title>
    <link rel="icon" type="image/png" href="../img/logo.png" />
    <link rel="stylesheet" href="../css/style.css" />
    <link
            href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css"
            rel="stylesheet">
</head>
<body>

<header>

    <nav class="navbar navbar-expand-xxl navbar-light bg-white">
        <div class="container-fluid">
            <a href="accueil.html">
                <img src="../img/logo.png" alt="Armée du Salut" />
            </a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDarkDropdown" aria-controls="navbarNavDarkDropdown" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNavDarkDropdown">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link" href="accueil.html">Armée du salut</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="actualite.html">Actualités</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="actions_sociales.html">Nos Actions</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="m'engager.html">M'engager</a>
                    </li>
                </ul>
                <div class="btn-container">
                    <a class="nav-link" href="#"><img src="../img/compte.svg" alt="compte"> Espace donateur</a>
                    <a class="btn custom-btn2" href="faireDon.html">Faire un don</a>
                </div>
            </div>
        </div>
    </nav>
</header>

<main>
    <section class="bannerDon">
        <div class="banner-content">
          <h1>Armée du salut</h1>
          <p>
            Pour un monde plus solidaire et inclusif : l'équipe de l'armée du salut soutient les familles modestes,
            accompagne les enfants défavorisés, favorise l'accès au sport et à la culture pour les personnes en situation
            de handicap, et mène chaque jour des actions adaptées aux besoins de chacun.
          </p>
          <a href="#don-form" class="btn">NOUS SOUTENIR</a>
        </div>
      </section>

      <section class="about-army-salvation">
  <div id="propos" class="content">
    <h2>À Propos de l’Armée du Salut</h2>

    <div class="text">
      <h3>Qui sommes-nous ?</h3>
      <p><strong>L’Armée du Salut est un mouvement religieux et social international</strong> qui œuvre pour la réhabilitation des personnes en difficulté et la solidarité envers tous les exclus de la société. Nous menons des actions sociales, éducatives, spirituelles et d’urgence partout en France et dans le monde.</p>

      <h3>Notre mission</h3>
      <p><strong>Être là pour les plus vulnérables</strong>, offrir soutien, accueil et accompagnement, tout en promouvant la dignité et l’espoir. L’Armée du Salut s’engage auprès des sans-abri, des familles en précarité, des personnes isolées et handicapées, avec des actions locales adaptées aux besoins.</p>

      <h3>Pour qui ?</h3>
      <p><strong>Pour toutes celles et ceux qui ont besoin d’une main tendue.</strong> Que ce soit des enfants, des jeunes en difficulté, des familles modestes ou des personnes isolées, nous proposons un réseau d’aide et d’écoute, avec respect et tolérance.</p>
    </div>

    <div class="image">
      <img src="../img/dessin.png" alt="Dessin solidaire Armée du Salut : maison, bus, enfants" />
    </div>
  </div>
</section>
      

    <section class="section-don">
        <h2>Votre contribution</h2>
        <div class="don-container">
      
          <!-- Formulaire don -->
          <form id="don-form" action="#" method="POST" class="don-form">
            <label for="amount">Montant du don (€)</label>
            <input type="number" id="amount" name="amount" value="20" min="1" required />
      
            <label for="prenom">Prénom</label>
            <input type="text" id="prenom" name="prenom" required />
      
            <label for="nom">Nom</label>
            <input type="text" id="nom" name="nom" required />
      
            <label for="email">Email</label>
            <input type="email" id="email" name="email" required />
      
            <label for="adresse">Adresse (optionnelle)</label>
            <input type="text" id="adresse" name="adresse" />
      
            <label for="paiement">Mode de paiement</label>
            <select id="paiement" name="paiement">
              <option value="carte">Carte bancaire</option>
              <option value="paypal">PayPal</option>
            </select>
      
            <!-- On remplace le bouton classique par un bouton qui déclenche le script JS -->
            <button id="faire-don-btn" type="submit">Valider le don</button>
          </form>
      
          <!-- Bloc cagnotte -->
          <aside class="cagnotte">
            <div class="label-don">Don</div>
            <p>
              Vos dons financent directement nos maraudes, nos événements, nos activités pour les personnes en situation de handicap ainsi que nos futurs projets au Maroc.
              Le lien HelloAsso est en cours de création.
            </p>
      
            <div class="objectif-container">
              <label class="objectif-label">Objectif</label>
              <progress id="cagnotte-bar" value="0" max="100"></progress>
              <div id="cagnotte-text" class="bientot-dispo">0 / 1000 €</div>
            </div>
      
            <div>
              <a href="#propos" class="lien-mission">En savoir plus sur notre mission →</a>
            </div>
          </aside>
      
        </div>
      </section>

    <section class="section-info">
        <h2>Pourquoi donner ?</h2>
        <p>Votre don permet de fournir un colis alimentaire à une famille, soutenir des actions sociales, et offrir un accompagnement aux plus fragiles.</p>
    </section>

    <div id="modal" class="modal">
        <div class="modal-content">
          <p id="modal-message"></p>
          <button id="modal-close-btn">OK</button>
        </div>
      </div>
</main>

<footer class="footer">
    <div class="footer-container">
        <!-- Section Newsletter -->
        <div class="footer-section newsletter-section">
            <h3>Suivez nos actions au quotidien</h3>
            <p class="newsletter-title">Recevez la newsletter de l'Armée du Salut</p>
            <div class="separator"></div>

            <div class="newsletter-form">
                <input type="email" placeholder="Votre email" class="email-input">
                <button class="footer-btn">S'inscrire →</button>
            </div>
            <div class="newsletter-checkbox">
                <label>
                    <input type="checkbox">
                    Je m'inscris à la Newsletter de la Fondation
                </label>
            </div>
        </div>

        <!-- Section Informations -->
        <div class="footer-section info-section">
            <div class="footer-column">
                <h4>ARMÉE DU SALUT</h4>
                <p>60, rue des Frères Flavien<br>
                    75976 Paris cedex 20<br>
                    France<br>
                    01 43 62 25 00</p>

                <div class="social-icons">
                    <span>SUIVEZ-NOUS</span>
                    <div class="icons">
                        <a href="#" class="social-icon">☐</a>
                        <a href="#" class="social-icon">in</a>
                    </div>
                </div>
            </div>

            <div class="footer-column">
                <h4>VERSIONS ACCOMPLIES</h4>
                <ul>
                    <li><a href="#">Personnes accompagnées</a></li>
                    <li><a href="#">Événements</a></li>
                    <li><a href="#">Champs d'action</a></li>
                    <li><a href="#">FAQ</a></li>
                    <li><a href="#">Établissements et postes</a></li>
                    <li><a href="#">La Nuit de la Philanthropie</a></li>
                </ul>
            </div>

            <div class="footer-column">
                <h4>DONNER</h4>
                <h4>M'ENGAGER</h4>
                <button href="#" class="footer-btn">Contactez-nous →</button>

                <div class="label-ideas">
                    <h5>LABEL IDEAS</h5>
                    <p>Le Label IDEAS atteste de la mise en œuvre par la Fondation de l'Armée du Salut de bonnes pratiques en matière de gouvernance, de gestion financière et d'évaluation.</p>
                </div>
            </div>
        </div>

        <!-- Section Mentions légales -->
        <div class="footer-bottom">
            <div class="legal-links">
                <a href="#">Mentions légales</a>
                <a href="#">Politique de confidentialité</a>
                <a href="#">Gestion des cookies</a>
                <a href="#">Crédits supermegas</a>
            </div>
        </div>
    </div>
</footer>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        // Récupère le chemin actuel
        const currentPage = window.location.pathname.split('/').pop();

        // Trouve tous les liens de navigation
        const navLinks = document.querySelectorAll('.nav-link');

        // Ajoute la classe active au lien correspondant
        navLinks.forEach(link => {
            if (link.getAttribute('href') === currentPage) {
                link.classList.add('active');
            }
        });
    });
</script>

<script>
(function(){
  const objectif = 100;
  let cagnotteActuelle = 0; // valeur initiale visible à l’image

  const progressBar = document.getElementById('cagnotte-bar');
  const progressText = document.getElementById('cagnotte-text');
  const form = document.getElementById('don-form');
  const modal = document.getElementById('modal');
  const modalMessage = document.getElementById('modal-message');
  const btnClose = document.getElementById('modal-close-btn');

  function showModal(message) {
    modalMessage.textContent = message;
    modal.style.display = 'flex';
  }
  btnClose.addEventListener('click', () => {
    modal.style.display = 'none';
  });

  function lancerConfetti() {
    confetti({
      particleCount: 150,
      spread: 70,
      origin: { y: 0.6 }
    });
  }

  function majCagnotte() {
    const val = Math.min(cagnotteActuelle, objectif);
    progressBar.value = val;
    progressText.textContent = `${val} / ${objectif} €`;
    if(val >= objectif) lancerConfetti();
  }

  majCagnotte();

  // Gestionnaire unique sur la soumission du formulaire
  form.addEventListener('submit', e => {
    e.preventDefault();

    if (!form.checkValidity()) {
      form.reportValidity();
      return;
    }

    // Ici le formulaire est valide, on peut mettre à jour la cagnotte
    const montantInput = form.querySelector('#amount');
    const montant = parseFloat(montantInput.value);

    if(isNaN(montant) || montant <= 0) {
      showModal('Veuillez saisir un montant valide.');
      return;
    }

    cagnotteActuelle += montant;
    if(cagnotteActuelle > objectif) cagnotteActuelle = objectif;

    majCagnotte();
    
    showModal(`Merci pour votre don de ${montant} € !`);

    // Réinitialiser formulaire si vous le souhaitez
    // form.reset();
  });
})();
</script>
</body>
</html>